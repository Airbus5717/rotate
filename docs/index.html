<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rotate Programming Language</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Rotate Programming Language</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org336e1df">Project Link</a></li>
<li><a href="#orge3fe266">Basics</a>
<ul>
<li><a href="#org2009a00">Hello World</a></li>
<li><a href="#org3a9a600">Comments</a></li>
</ul>
</li>
<li><a href="#org47019ad">Syntax Overview</a>
<ul>
<li><a href="#orga686462">Basic variables</a></li>
<li><a href="#org3b618b0">If Else</a></li>
<li><a href="#org394064d">Loop</a></li>
<li><a href="#orgba7de6b">Switch</a></li>
<li><a href="#org663c970">Struct</a></li>
<li><a href="#orge4c75e7">Function</a></li>
<li><a href="#orgab930e2">Enums</a></li>
<li><a href="#orge930fb4">Memory managment</a></li>
</ul>
</li>
<li><a href="#orgc0a3b5b">TODO</a>
<ul>
<li><a href="#org38f0c4d">Compiler</a></li>
<li><a href="#org4453ee6">DOCS</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org336e1df" class="outline-2">
<h2 id="org336e1df">Project Link</h2>
<div class="outline-text-2" id="text-org336e1df">
<p>
<a href="https://github.com/Airbus5717/rotate.git">Github</a>
</p>
</div>
</div>


<div id="outline-container-orge3fe266" class="outline-2">
<h2 id="orge3fe266">Basics</h2>
<div class="outline-text-2" id="text-orge3fe266">
</div>
<div id="outline-container-org2009a00" class="outline-3">
<h3 id="org2009a00">Hello World</h3>
<div class="outline-text-3" id="text-org2009a00">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #a9a1e1;">io</span> :: <span style="color: #51afef;">import</span><span style="color: #51afef;">(</span><span style="color: #98be65;">"std/io"</span><span style="color: #51afef;">)</span>;

<span style="color: #a9a1e1;">main</span> :: <span style="color: #c678dd;">fn</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    io.println<span style="color: #c678dd;">(</span><span style="color: #98be65;">"Hello, World"</span><span style="color: #c678dd;">)</span>;
<span style="color: #51afef;">}</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org3a9a600" class="outline-3">
<h3 id="org3a9a600">Comments</h3>
<div class="outline-text-3" id="text-org3a9a600">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #5B6268;">// </span><span style="color: #5B6268;">for single line comments</span>

<span style="color: #5B6268;">/*</span>
<span style="color: #5B6268;">  multi-line comments</span>
<span style="color: #5B6268;">*/</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org47019ad" class="outline-2">
<h2 id="org47019ad">Syntax Overview</h2>
<div class="outline-text-2" id="text-org47019ad">
</div>
<div id="outline-container-orga686462" class="outline-3">
<h3 id="orga686462">Basic variables</h3>
<div class="outline-text-3" id="text-orga686462">
<div class="org-src-container">
<pre class="src src-odin">io :: <span style="color: #51afef;">import</span>(<span style="color: #98be65;">"std/io"</span>);

<span style="color: #5B6268;">// </span><span style="color: #5B6268;">semicolons are optional</span>
x: <span style="color: #ECBE7B;">int</span> = <span style="color: #da8548; font-weight: bold;">1</span>;
y := <span style="color: #da8548; font-weight: bold;">2</span>; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">inferred</span>
z :: <span style="color: #da8548; font-weight: bold;">3</span>; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">z is const 3</span>
d := ref x; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">type is int*</span>
d = <span style="color: #a9a1e1;">nil</span>; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">now NULL</span>

arr : []<span style="color: #ECBE7B;">int</span> = [<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>]; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">inferred type ([3]int)</span>
io.println(arr.len); <span style="color: #5B6268;">// </span><span style="color: #5B6268;">arr.len == 3</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3b618b0" class="outline-3">
<h3 id="org3b618b0">If Else</h3>
<div class="outline-text-3" id="text-org3b618b0">
<div class="org-src-container">
<pre class="src src-odin">x := <span style="color: #a9a1e1;">true</span>;
y := !x;
<span style="color: #51afef;">if</span> x {
 <span style="color: #5B6268;">// </span><span style="color: #5B6268;">do stuff</span>
} <span style="color: #51afef;">else</span> <span style="color: #51afef;">if</span> !y {
    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">do stuff</span>
} <span style="color: #51afef;">else</span> {
    <span style="color: #5B6268;">// </span><span style="color: #5B6268;">do stuff</span>
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org394064d" class="outline-3">
<h3 id="org394064d">Loop</h3>
<div class="outline-text-3" id="text-org394064d">
<div class="org-src-container">
<pre class="src src-odin"><span style="color: #51afef;">for</span> i <span style="color: #51afef;">in</span> <span style="color: #da8548; font-weight: bold;">0</span><span style="color: #a9a1e1;">..</span><span style="color: #da8548; font-weight: bold;">2</span> {
        <span style="color: #5B6268;">// </span><span style="color: #5B6268;">do something</span>
}
x := <span style="color: #a9a1e1;">true</span>;
while x {
    <span style="color: #51afef;">break</span>;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba7de6b" class="outline-3">
<h3 id="orgba7de6b">Switch</h3>
<div class="outline-text-3" id="text-orgba7de6b">
<div class="org-src-container">
<pre class="src src-odin">x := <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #51afef;">switch</span> x {
    <span style="color: #da8548; font-weight: bold;">1</span>: {}
    <span style="color: #da8548; font-weight: bold;">2</span>: {}
    <span style="color: #51afef;">else</span>:{}
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org663c970" class="outline-3">
<h3 id="org663c970">Struct</h3>
<div class="outline-text-3" id="text-org663c970">
<div class="org-src-container">
<pre class="src src-odin">
<span style="color: #ECBE7B;">Token</span> :: <span style="color: #51afef;">struct</span> {
    x: <span style="color: #ECBE7B;">int</span>,
    y: [<span style="color: #da8548; font-weight: bold;">3</span>]<span style="color: #ECBE7B;">int</span>,
}


d := Token{<span style="color: #da8548; font-weight: bold;">1</span>, [<span style="color: #da8548; font-weight: bold;">1</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">3</span>]};
d.x = <span style="color: #da8548; font-weight: bold;">2</span>;
d.y[<span style="color: #da8548; font-weight: bold;">1</span>] = <span style="color: #da8548; font-weight: bold;">1</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge4c75e7" class="outline-3">
<h3 id="orge4c75e7">Function</h3>
<div class="outline-text-3" id="text-orge4c75e7">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #5B6268;">//</span><span style="color: #5B6268;">! no generics for now</span>
<span style="color: #a9a1e1;">add</span> :: fn<span style="color: #51afef;">(</span>x: <span style="color: #ECBE7B;">int</span>, y: <span style="color: #ECBE7B;">int</span><span style="color: #51afef;">)</span> <span style="color: #ECBE7B;">int</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">return</span> x + y;
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab930e2" class="outline-3">
<h3 id="orgab930e2">Enums</h3>
<div class="outline-text-3" id="text-orgab930e2">
<div class="org-src-container">
<pre class="src src-odin"><span style="color: #5B6268;">// </span><span style="color: #5B6268;">no size specification</span>

<span style="color: #ECBE7B;">TokenType</span> :: <span style="color: #51afef;">enum</span> {
    Id,
    Number,
    Float,
    String,
    Char,
    Invalid,
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orge930fb4" class="outline-3">
<h3 id="orge930fb4">Memory managment</h3>
<div class="outline-text-3" id="text-orge930fb4">
<p>
similar to C, with some modern features (new/delete and defer)
</p>
<div class="org-src-container">
<pre class="src src-odin">io :: <span style="color: #51afef;">import</span>(<span style="color: #98be65;">"std/io"</span>);
os :: <span style="color: #51afef;">import</span>(<span style="color: #98be65;">"std/os"</span>);

str := <span style="color: #c678dd;">new</span> [<span style="color: #da8548; font-weight: bold;">3</span>]char;
<span style="color: #51afef;">defer</span> <span style="color: #c678dd;">delete</span> str;

x := <span style="color: #c678dd;">new</span> [<span style="color: #da8548; font-weight: bold;">100</span>]<span style="color: #ECBE7B;">int</span>;
tkn := <span style="color: #c678dd;">new</span> Token; <span style="color: #5B6268;">// </span><span style="color: #5B6268;">assuming Token is a struct</span>
<span style="color: #51afef;">defer</span> <span style="color: #c678dd;">delete</span> tkn;
<span style="color: #51afef;">defer</span> <span style="color: #c678dd;">delete</span> x;

<span style="color: #5B6268;">// </span><span style="color: #5B6268;">how to check for failed allocation</span>
<span style="color: #51afef;">if</span> x == <span style="color: #a9a1e1;">nil</span> {
    io.println(<span style="color: #98be65;">"Fail alloc"</span>);
    os.exit(<span style="color: #da8548; font-weight: bold;">1</span>);
}
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgc0a3b5b" class="outline-2">
<h2 id="orgc0a3b5b">TODO</h2>
<div class="outline-text-2" id="text-orgc0a3b5b">
</div>
<div id="outline-container-org38f0c4d" class="outline-3">
<h3 id="org38f0c4d">Compiler</h3>
<div class="outline-text-3" id="text-org38f0c4d">
<ul class="org-ul">
<li>Parser</li>
<li>TypeChecker</li>
<li>Analysis</li>
<li>Optimization</li>
<li>CodeGen</li>
</ul>
</div>
</div>

<div id="outline-container-org4453ee6" class="outline-3">
<h3 id="org4453ee6">DOCS</h3>
<div class="outline-text-3" id="text-org4453ee6">
<ul class="org-ul">
<li>Add a copy button in HTML docs export</li>
<li>Add automation to docs generation</li>
<li>Custom syntax highlighting for rotate</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>
