<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rotate Programming Language</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="solarized-min.css"/>
<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Rotate Programming Language</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org55fd396">Project Link</a></li>
<li><a href="#orgafe6a06">Basics</a>
<ul>
<li><a href="#org2d7d13f">Hello World</a></li>
<li><a href="#orgc3063e1">Comments</a></li>
</ul>
</li>
<li><a href="#org63c0831">Syntax Overview</a>
<ul>
<li><a href="#org17e734f">Basic variables</a></li>
<li><a href="#org1a5be9d">If Else</a></li>
<li><a href="#org7b4dfef">Loop</a></li>
<li><a href="#org7312d17">Switch</a></li>
<li><a href="#orga9bf7fa">Struct</a></li>
<li><a href="#org126958f">Function</a></li>
<li><a href="#org2435416">Enums</a></li>
<li><a href="#org116ff02">Memory managment</a></li>
</ul>
</li>
<li><a href="#org01e8130">TODO</a>
<ul>
<li><a href="#org7899845">Compiler</a></li>
<li><a href="#org2a8283f">DOCS</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="org-center">
<p>
The Syntax is subject to change at any time
</p>
</div>

<div id="outline-container-org55fd396" class="outline-2">
<h2 id="org55fd396">Project Link</h2>
<div class="outline-text-2" id="text-org55fd396">
<p>
<a href="https://github.com/Airbus5717/rotate.git">Github repo</a>
</p>
</div>
</div>


<div id="outline-container-orgafe6a06" class="outline-2">
<h2 id="orgafe6a06">Basics</h2>
<div class="outline-text-2" id="text-orgafe6a06">
</div>
<div id="outline-container-org2d7d13f" class="outline-3">
<h3 id="org2d7d13f">Hello World</h3>
<div class="outline-text-3" id="text-org2d7d13f">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #fb4934;">import</span> <span style="color: #b8bb26;">"std/io"</span>;
<span style="color: #928374;">// </span><span style="color: #928374;">comment</span>
<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{</span>
    println<span style="color: #cc241d;">(</span><span style="color: #b8bb26;">"Hello, World"</span><span style="color: #cc241d;">)</span>;
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3063e1" class="outline-3">
<h3 id="orgc3063e1">Comments</h3>
<div class="outline-text-3" id="text-orgc3063e1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #928374;">// </span><span style="color: #928374;">SINGLE LINE COMMENTS</span>
<span style="color: #928374;">/* </span>
<span style="color: #928374;"> multi line comments</span>
<span style="color: #928374;">*/</span>

<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{}</span>

<span style="color: #928374;">/* </span><span style="color: #928374;">multi line comments do not need to have an</span>
<span style="color: #928374;"> ending delimiter because EOF is enough for </span>
<span style="color: #928374;"> as a comment delimiter</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org63c0831" class="outline-2">
<h2 id="org63c0831">Syntax Overview</h2>
<div class="outline-text-2" id="text-org63c0831">
</div>
<div id="outline-container-org17e734f" class="outline-3">
<h3 id="org17e734f">Basic variables</h3>
<div class="outline-text-3" id="text-org17e734f">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #fb4934;">import</span> <span style="color: #b8bb26;">"std/io"</span>;

<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{</span>
    <span style="color: #d3869b;">x</span> := <span style="color: #d3869b; font-weight: bold;">1</span>; <span style="color: #928374;">// </span><span style="color: #928374;">inferred variable</span>
    y :: <span style="color: #d3869b; font-weight: bold;">2</span>; <span style="color: #928374;">// </span><span style="color: #928374;">inferred constant</span>
    <span style="color: #d3869b;">z</span> :<span style="color: #fabd2f;">int</span> = <span style="color: #d3869b; font-weight: bold;">1</span>; <span style="color: #928374;">// </span><span style="color: #928374;">int variable</span>
    print_int<span style="color: #cc241d;">(</span>x<span style="color: #cc241d;">)</span>;
    print_int<span style="color: #cc241d;">(</span>y<span style="color: #cc241d;">)</span>;
    print_int<span style="color: #cc241d;">(</span>z<span style="color: #cc241d;">)</span>;
    println<span style="color: #cc241d;">(</span><span style="color: #b8bb26;">""</span><span style="color: #cc241d;">)</span>;
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a5be9d" class="outline-3">
<h3 id="org1a5be9d">If Else</h3>
<div class="outline-text-3" id="text-org1a5be9d">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #fb4934;">import</span> <span style="color: #b8bb26;">"std/io"</span>;

<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{</span>
    <span style="color: #d3869b;">x</span> := <span style="color: #d3869b; font-weight: bold;">1</span>;
    <span style="color: #fb4934;">if</span> x == <span style="color: #d3869b; font-weight: bold;">1</span> <span style="color: #cc241d;">{</span>
      println<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"x is 1"</span><span style="color: #b8bb26;">)</span>;
    <span style="color: #cc241d;">}</span> <span style="color: #fb4934;">else</span> <span style="color: #cc241d;">{</span>
      println<span style="color: #b8bb26;">(</span><span style="color: #b8bb26;">"x is not 1"</span><span style="color: #b8bb26;">)</span>;
    <span style="color: #cc241d;">}</span>
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b4dfef" class="outline-3">
<h3 id="org7b4dfef">Loop</h3>
<div class="outline-text-3" id="text-org7b4dfef">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{</span>
    <span style="color: #fb4934;">for</span> i in <span style="color: #d3869b; font-weight: bold;">0</span>..<span style="color: #d3869b; font-weight: bold;">2</span> <span style="color: #cc241d;">{</span>
        <span style="color: #928374;">// </span><span style="color: #928374;">do something</span>
    <span style="color: #cc241d;">}</span>

    <span style="color: #d3869b;">x</span> := <span style="color: #d3869b;">true</span>;
    <span style="color: #fb4934;">while</span> x <span style="color: #cc241d;">{</span>
        <span style="color: #fb4934;">break</span>;
    <span style="color: #cc241d;">}</span>
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7312d17" class="outline-3">
<h3 id="org7312d17">Switch</h3>
<div class="outline-text-3" id="text-org7312d17">
<div class="org-src-container">
<pre class="src src-cpp">x :: <span style="color: #d3869b; font-weight: bold;">1</span>;
    <span style="color: #928374;">// </span><span style="color: #928374;">every case break is the default</span>
<span style="color: #fb4934;">switch</span> x <span style="color: #fe8019;">{</span>
    <span style="color: #d3869b; font-weight: bold;">1</span>: <span style="color: #cc241d;">{}</span>
    <span style="color: #d3869b; font-weight: bold;">2</span>: <span style="color: #cc241d;">{}</span>
    <span style="color: #fb4934;">else</span>:<span style="color: #cc241d;">{}</span>
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga9bf7fa" class="outline-3">
<h3 id="orga9bf7fa">Struct</h3>
<div class="outline-text-3" id="text-orga9bf7fa">
<div class="org-src-container">
<pre class="src src-cpp">
<span style="color: #d3869b;">Token</span> :: <span style="color: #fb4934;">struct</span> <span style="color: #fe8019;">{</span>
    <span style="color: #d3869b;">x</span>: <span style="color: #fabd2f;">int</span>,
    y: <span style="color: #cc241d;">[</span><span style="color: #d3869b; font-weight: bold;">3</span><span style="color: #cc241d;">]</span><span style="color: #fabd2f;">int</span>,
<span style="color: #fe8019;">}</span>


<span style="color: #d3869b;">d</span> := Token<span style="color: #fe8019;">{</span><span style="color: #d3869b; font-weight: bold;">1</span>, <span style="color: #cc241d;">[</span><span style="color: #d3869b; font-weight: bold;">1</span>, <span style="color: #d3869b; font-weight: bold;">2</span>, <span style="color: #d3869b; font-weight: bold;">3</span><span style="color: #cc241d;">]</span><span style="color: #fe8019;">}</span>;
d.x = <span style="color: #d3869b; font-weight: bold;">2</span>;
d.y<span style="color: #fe8019;">[</span><span style="color: #d3869b; font-weight: bold;">1</span><span style="color: #fe8019;">]</span> = <span style="color: #d3869b; font-weight: bold;">1</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org126958f" class="outline-3">
<h3 id="org126958f">Function</h3>
<div class="outline-text-3" id="text-org126958f">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #fb4934;">import</span> <span style="color: #b8bb26;">"std/io"</span>;

<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">add</span><span style="color: #fe8019;">(</span>x: <span style="color: #fabd2f;">int</span>, y: <span style="color: #fabd2f;">int</span><span style="color: #fe8019;">)</span> <span style="color: #fabd2f;">int</span> <span style="color: #fe8019;">{</span>
    <span style="color: #fb4934;">return</span> x + y;
<span style="color: #fe8019;">}</span>

<span style="color: #fabd2f;">fn</span> <span style="color: #b8bb26;">main</span><span style="color: #fe8019;">()</span> <span style="color: #fe8019;">{</span>
    print_int<span style="color: #cc241d;">(</span>add<span style="color: #b8bb26;">(</span><span style="color: #d3869b; font-weight: bold;">1</span>, <span style="color: #d3869b; font-weight: bold;">2</span><span style="color: #b8bb26;">)</span><span style="color: #cc241d;">)</span>;
    println<span style="color: #cc241d;">(</span><span style="color: #b8bb26;">""</span><span style="color: #cc241d;">)</span>;
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2435416" class="outline-3">
<h3 id="org2435416">Enums</h3>
<div class="outline-text-3" id="text-org2435416">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #928374;">// </span><span style="color: #928374;">no size specification</span>

<span style="color: #d3869b;">TknType</span> :: <span style="color: #fb4934;">enum</span> <span style="color: #fe8019;">{</span>
    <span style="color: #83a598;">Id</span>,
    <span style="color: #83a598;">Number</span>,
    <span style="color: #83a598;">Float</span>,
    <span style="color: #83a598;">String</span>,
    <span style="color: #83a598;">Char</span>,
    <span style="color: #83a598;">Invalid</span>,
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org116ff02" class="outline-3">
<h3 id="org116ff02">Memory managment</h3>
<div class="outline-text-3" id="text-org116ff02">
<p>
similar to C, with some modern features (new/delete and defer)
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #d3869b;">io</span> :: <span style="color: #fb4934;">import</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"std/io"</span><span style="color: #fe8019;">)</span>;
<span style="color: #d3869b;">os</span> :: <span style="color: #fb4934;">import</span><span style="color: #fe8019;">(</span><span style="color: #b8bb26;">"std/os"</span><span style="color: #fe8019;">)</span>;

<span style="color: #d3869b;">str</span> := <span style="color: #fb4934;">new</span> <span style="color: #fe8019;">[</span><span style="color: #d3869b; font-weight: bold;">3</span><span style="color: #fe8019;">]</span><span style="color: #fabd2f;">char</span>;
defer <span style="color: #fb4934;">delete</span> str;

<span style="color: #d3869b;">x</span> := <span style="color: #fb4934;">new</span> <span style="color: #fe8019;">[</span><span style="color: #d3869b; font-weight: bold;">100</span><span style="color: #fe8019;">]</span><span style="color: #fabd2f;">int</span>;
<span style="color: #d3869b;">tkn</span> := <span style="color: #fb4934;">new</span> <span style="color: #fabd2f;">Token</span>; <span style="color: #928374;">// </span><span style="color: #928374;">assuming Token is a struct</span>
defer <span style="color: #fb4934;">delete</span> tkn;
defer <span style="color: #fb4934;">delete</span> x;

<span style="color: #928374;">// </span><span style="color: #928374;">how to check for failed allocation</span>
<span style="color: #fb4934;">if</span> x == nil <span style="color: #fe8019;">{</span>
    io.println<span style="color: #cc241d;">(</span><span style="color: #b8bb26;">"Fail alloc"</span><span style="color: #cc241d;">)</span>;
    os.exit<span style="color: #cc241d;">(</span><span style="color: #d3869b; font-weight: bold;">1</span><span style="color: #cc241d;">)</span>;
<span style="color: #fe8019;">}</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org01e8130" class="outline-2">
<h2 id="org01e8130">TODO</h2>
<div class="outline-text-2" id="text-org01e8130">
</div>
<div id="outline-container-org7899845" class="outline-3">
<h3 id="org7899845">Compiler</h3>
<div class="outline-text-3" id="text-org7899845">
<ul class="org-ul">
<li>Parser 30% done</li>
<li>TypeChecker 10% done</li>
<li>Analysis</li>
<li>Optimization</li>
<li>CodeGen</li>
</ul>
</div>
</div>

<div id="outline-container-org2a8283f" class="outline-3">
<h3 id="org2a8283f">DOCS</h3>
<div class="outline-text-3" id="text-org2a8283f">
<ul class="org-ul">
<li>Add a copy button in HTML docs export</li>
<li>Add automation to docs generation</li>
<li>Custom syntax highlighting for rotate</li>
</ul>
</div>
</div>
</div>
</div>
</body>
</html>